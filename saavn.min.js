!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";__webpack_require__(1)},function(module,exports){"use strict";!function(){function init(){cacheDom(),bindEvents();var target=document.querySelector("#player-album-name"),observer=new MutationObserver(function(mutations){mutations.forEach(function(mutationRecord){getTrackInfo()})}),config={childList:!0,subtree:!0,attributes:!0,characterData:!0};observer.observe(target,config)}function cacheDom(){el=document.getElementById("now-playing"),target=document.querySelector("#player-album-name")}function bindEvents(){window.addEventListener("keydown",keyDownHandler)}function keyDownHandler(evt){console.log(evt),"VolumeDown"===evt.key?console.log("VolumeDown"):"VolumeUp"===evt.key&&console.log("VolumeUp")}function getTrackInfo(){trackName=el.querySelector("#player-track-name").querySelector("a").text,albumArt=getAlbumArt(el.querySelector(".key-art").style["background-image"]),albumName=target.querySelector("a").text,null!=currentData&&(null==currentData||currentData.trackName==trackName&&currentData.albumArt==albumArt&&currentData.albumName==albumName)||(currentData={trackName:trackName,albumArt:albumArt,albumName:albumName},notify(currentData))}function checkIfNotificationWorks(){return window.Notification}function checkNotificationPermission(){return"granted"===Notification.permission||(Notification.requestPermission(),!1)}function notify(data){checkIfNotificationWorks()&&checkNotificationPermission()&&null!=data&&!function(){var notification=new Notification(data.trackName,{icon:data.albumArt,body:data.albumName});console.log(notification),setTimeout(function(){notification.close()},8e3)}()}function getAlbumArt(url){return url=url.trim(),url.substring(url.indexOf('"')+1,url.lastIndexOf('"')).trim()}function contentLoaded(win,fn){var add,doc,done,_init,_poll,pre,rem,root,top;if(done=!1,top=!0,doc=win.document,root=doc.documentElement,add=doc.addEventListener?"addEventListener":"attachEvent",rem=doc.addEventListener?"removeEventListener":"detachEvent",pre=doc.addEventListener?"":"on",_init=function(e){if("readystatechange"!==e.type||"complete"===doc.readyState)return("load"===e.type?win:doc)[rem](pre+e.type,_init,!1),!done&&(done=!0)?fn.call(win,e.type||e):void 0},_poll=function(){var e;try{root.doScroll("left")}catch(_error){return e=_error,void setTimeout(_poll,50)}return _init("poll")},"complete"!==doc.readyState){if(doc.createEventObject&&root.doScroll){try{top=!win.frameElement}catch(_error){}top&&_poll()}return doc[add](pre+"DOMContentLoaded",_init,!1),doc[add](pre+"readystatechange",_init,!1),win[add](pre+"load",_init,!1)}}var el,trackName,albumArt,target,albumName,currentData;contentLoaded(window,init)}()}]);